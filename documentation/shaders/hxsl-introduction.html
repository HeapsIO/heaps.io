<!DOCTYPE html>
<html lang="en" id="page"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width"/><title>Hxsl - Shaders  - Heaps.io Game Engine</title><base href="./../.."/>
<link href="css/styles.css" rel="stylesheet" type="text/css"/><link rel="canonical" href="http://heaps.io/documentation/shaders/hxsl-introduction.html"/><meta name="description" content="Haxe Shader Language"/>
<meta name="twitter:creator" content="@ncanasse"/>
<meta property="og:title" content="Hxsl - Shaders  - Heaps.io Game Engine"/><meta property="og:description" content="Haxe Shader Language"/><meta property="og:type" content="website"/><meta property="og:url" content="http://heaps.io/documentation/shaders/hxsl-introduction.html"/><meta property="og:image" content="http://heaps.io//img/share.png"/>    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en"/></head><body><main><header class="header-documentation"><nav class="top-nav"><a href="./" class="button ">Home</a><a href="about.html" class="button ">About</a><a href="samples/" class="button ">Samples</a><a href="documentation/getting-started/" class="button disabled">Online handbook</a><a href="api/" class="button">API</a><a href="https://gitter.im/heapsio/Lobby" class="button" target="_blank">Community</a><a href="https://github.com/HeapsIO/heaps/" class="button" target="_blank"><svg aria-hidden="true" width="20" height="20" version="1.1" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg> Source</a></nav></header> <div class="row container"><nav class="col-4 sidebar"><ul class="unstyled"><li><a href="documentation/getting-started/">Getting started</a></li><li><a href="documentation/h2d/">H2d</a></li><li><a href="documentation/h3d/">H3d</a></li><li><a href="documentation/hxd/">Hxd</a></li><li><a href="documentation/other/">Other</a></li><li class="active"><a href="documentation/shaders/">Shaders</a><ul><li class="current"><a href="documentation/shaders/hxsl-introduction.html">Hxsl</a></li></ul></li><li><a href="documentation/tools/">Tools</a></li></ul></nav><article class="col-8 documentation"><div class="content"><h1><span>Shaders</span> Hxsl </h1><h2>Haxe Shader Language</h2>
<p>Today hardware accelerated 3D rendering is using "shaders" in order to perform many tasks :</p>
<p>Vertex shaders are used for transforming and projecting each geometry point into 2D space and set up "variables" that will be interpolated on a per-pixel basis. This can be used by the pixel shader.
Fragment shaders are used for blending different textures and colors into a single pixel color that will be written to screen.
Thanks to <a href="https://haxe.org/manual/macro.html">macros</a>, we were able to develop a high level shader language called HxSL (Haxe Shader Language) that uses Haxe syntax and can directly be embedded into Haxe programs source. HxSL translates shaders to the shader languages of the used platform.</p>
<h2>Shader expression</h2>
<p>The syntax of the shader follows the syntax of Haxe language, however only a subset of the language is supported. Here's a HxSL shader expression example:</p>
<pre><code class="prettyprint haxe">package h3d.shader;

class SinusDeform extends hxsl.Shader {
	static var SRC = {
		@global var time : Float;
		@param var speed : Float;
		@param var frequency : Float;
		@param var amplitude : Float;

		var calculatedUV : Vec2;

		function fragment() {
			calculatedUV.x += sin(calculatedUV.y * frequency + time * speed) * amplitude;
		}

	};

	public function new( frequency = 10., amplitude = 0.01, speed = 1. ) {
		super();
		this.frequency = frequency;
		this.amplitude = amplitude;
		this.speed = speed;
	}
}</code></pre>
<h3>Variable Types</h3>
<p>Among the variables used as part of an HxSL shader, we distinguish the following types of variables :</p><ul><li><code>@param</code> is a shader parameter, passed for one render call for all vertexes/pixels</li><li><code>@const</code> is a compilation constant, it will optimize the shader at compile time to get rid of it based on the value. They do not vary for the scene being currently rendered: something like a light position would be a good example. If you are coming from another shader language, you may know of these as "Uniforms".</li><li><code>@var</code> is a varying, it is written in vertex shader and read in pixel shader</li><li><code>@global</code> means that the variables are shared among many shaders and stored in the "context globals" (so it's not per-shader)</li><li><code>@input</code> the input variables are the ones that come from the vertex buffer</li><li><code>@tmp</code> : a temporary variable, used for locals</li><li><code>@ignore</code> is just for prevent listing in some high level shader UI that's been worked on.</li></ul></div></article> </div></main><footer><div class="container"><div class="lead"><p>Follow <a href="https://github.com/HeapsIO/">Heaps.io on Github</a>: <br/><a class="github-button" href="https://github.com/HeapsIO/heaps/issues" data-icon="octicon-issue-opened" data-style="mega" data-count-api="/repos/HeapsIO/heaps#open_issues_count" data-count-aria-label="# issues on GitHub" aria-label="Issue HeapsIO/heaps on GitHub">Issue</a> &nbsp; <a class="github-button" href="https://github.com/HeapsIO/heaps" data-icon="octicon-star" data-style="mega" data-count-href="/HeapsIO/heaps/stargazers" data-count-api="/repos/HeapsIO/heaps#stargazers_count" data-count-aria-label="# stargazers on GitHub" aria-label="Star HeapsIO/heaps on GitHub">Star</a></p></div></div></footer><script async="async" defer="defer" src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" type="text/css" href="https://code.haxe.org/css/highlighter.min.css"/><script defer="defer" src="https://code.haxe.org/js/highlighter.js"></script></body></html>