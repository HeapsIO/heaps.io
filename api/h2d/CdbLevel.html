<!DOCTYPE html>
<html lang="en"><!-- use theme color or fallback -->
<!--use textcolor from settings, otherwise create a contrasting color to theme color-->
<head><meta charset="utf-8"/><link href="../bootstrap/css/bootstrap.min.css" rel="stylesheet"/><link href="../bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet"/><link href="../bootstrap/css/bootstrap-select.min.css" rel="stylesheet"/><link href="../../css/styles.min.css" rel="stylesheet"/><link href="../styles.css" rel="stylesheet"/><script type="text/javascript">var dox = {rootPath: "../",platforms: ["heaps"]};</script><title>h2d.CdbLevel - Heaps.io Game Engine</title><script src="../jquery-1.9.1.min.js"></script><script src="../bootstrap/js/bootstrap.min.js"></script><script src="../bootstrap/js/bootstrap-select.min.js"></script><script type="text/javascript" src="../nav.js"></script><script type="text/javascript" src="../index.js"></script><meta name="description" content="CdbLevel will decode and display a level created with the CastleDB level editor.
See http://castledb.org for more details."/>    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en"/></head><body><header class="header-documentation"><nav class="top-nav"><a href="../../" class="button">Home</a><a href="../../about.html" class="button">About</a><a href="../../samples/" class="button">Samples</a><a href="../../documentation/getting-started/" class="button">Online handbook</a><a href="../" class="button disabled">API</a><a href="https://gitter.im/heapsio/Lobby" class="button" target="_blank">Community</a></nav></header><div class="container main-content"><div class="row-fluid"><div class="span3"><div class="well sidebar-nav"><form class="form-search" id="searchForm"><div class="input-prepend input-block-level"><span class="add-on"><i class="icon-search"></i></span><input id="search" type="text" placeholder="Search" autocomplete="off"/></div></form></div><div class="well sidebar-nav"><div id="nav"></div></div></div><div class="span9"><div class="page-header"><h1><small>class</small> CdbLevel</h1><h4><small>package <a href="../h2d/index.html">h2d</a></small></h4><h4><small>extends <a class="type" title="" href="../h2d/Layers.html">Layers</a> &rsaquo; <a class="type" title="" href="../h2d/Sprite.html">Sprite</a></small></h4>    </div><div class="body"><div class="doc doc-main"><div class="indent"><p>CdbLevel will decode and display a level created with the CastleDB level editor.
See http://castledb.org for more details.</p></div></div><h3 class="section">Constructor</h3><div class="fields"><div class="field "><a name="new"></a><h3><p><code><a href="#new"><span class="identifier">new</span></a> (<span style="white-space:nowrap">allLevels:<span class="type">Index</span>&lt;<span class="type">Dynamic</span>&gt;,</span> <span style="white-space:nowrap">index:<span class="type">Int</span>,</span> <span style="white-space:nowrap">?parent:<a class="type" title="" href="../h2d/Sprite.html">Sprite</a></span>)</code></p></h3><div class="doc"><p></p></div></div></div><h3 class="section">Variables</h3><div class="fields"><div class="field "><a name="height"></a><h3><p><code><span class="label">read only</span><a href="../h2d/CdbLevel.html#height"><span class="identifier">height</span></a>:<span class="type">Int</span></code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="layers"></a><h3><p><code><a href="../h2d/CdbLevel.html#layers"><span class="identifier">layers</span></a>:<span class="type">Array</span>&lt;<a class="type" title="" href="../h2d/LevelLayer.html">LevelLayer</a>&gt;</code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="level"></a><h3><p><code><span class="label">read only</span><a href="../h2d/CdbLevel.html#level"><span class="identifier">level</span></a>:<a class="type" title="" href="../h2d/LevelSpec.html">LevelSpec</a></code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="width"></a><h3><p><code><span class="label">read only</span><a href="../h2d/CdbLevel.html#width"><span class="identifier">width</span></a>:<span class="type">Int</span></code></p></h3><div class="doc"><p></p></div></div></div><h3 class="section">Methods</h3><div class="fields"><div class="field "><a name="buildIntProperty"></a><h3><p><code><a href="#buildIntProperty"><span class="identifier">buildIntProperty</span></a> (<span style="white-space:nowrap">name:<span class="type">String</span></span>):<span class="type">Array</span>&lt;<span class="type">Int</span>&gt;</code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="buildStringProperty"></a><h3><p><code><a href="#buildStringProperty"><span class="identifier">buildStringProperty</span></a> (<span style="white-space:nowrap">name:<span class="type">String</span></span>):<span class="type">Array</span>&lt;<span class="type">String</span>&gt;</code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="getLevelLayer"></a><h3><p><code><a href="#getLevelLayer"><span class="identifier">getLevelLayer</span></a> (<span style="white-space:nowrap">name:<span class="type">String</span></span>):<a class="type" title="" href="../h2d/LevelLayer.html">LevelLayer</a></code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="getTileset"></a><h3><p><code><a href="#getTileset"><span class="identifier">getTileset</span></a> (<span style="white-space:nowrap">file:<span class="type">String</span></span>):<a class="type" title="" href="../h2d/LevelTileset.html">LevelTileset</a></code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="redraw"></a><h3><p><code><a href="#redraw"><span class="identifier">redraw</span></a> ():<span class="type">Void</span></code></p></h3><div class="doc"><p></p></div></div></div>  <div class="inherited-fields well"><h3 class="section">Inherited Variables</h3><div class="fields"><div style="display:none"></div><h4><a href="#" class="expand-button"><i class="fa fa-arrow-circle-o-right"></i></a> Defined by <a class="type" title="" href="../h2d/Sprite.html">Sprite</a></h4><div style="display:none"><div class="field "><a name="alpha"></a><h3><p><code><a href="../h2d/Sprite.html#alpha"><span class="identifier">alpha</span></a>:<span class="type">Float</span></code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="filter"></a><h3><p><code><a href="../h2d/Sprite.html#filter"><span class="identifier">filter</span></a>:<a class="type" title="" href="../h2d/filter/Filter.html">Filter</a></code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="name"></a><h3><p><code><a href="../h2d/Sprite.html#name"><span class="identifier">name</span></a>:<span class="type">String</span></code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="numChildren"></a><h3><p><code><span class="label">read only</span><a href="../h2d/Sprite.html#numChildren"><span class="identifier">numChildren</span></a>:<span class="type">Int</span></code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="parent"></a><h3><p><code><span class="label">read only</span><a href="../h2d/Sprite.html#parent"><span class="identifier">parent</span></a>:<a class="type" title="" href="../h2d/Sprite.html">Sprite</a></code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="rotation"></a><h3><p><code><a href="../h2d/Sprite.html#rotation"><span class="identifier">rotation</span></a>:<span class="type">Float</span></code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="scaleX"></a><h3><p><code><a href="../h2d/Sprite.html#scaleX"><span class="identifier">scaleX</span></a>:<span class="type">Float</span></code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="scaleY"></a><h3><p><code><a href="../h2d/Sprite.html#scaleY"><span class="identifier">scaleY</span></a>:<span class="type">Float</span></code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="visible"></a><h3><p><code><a href="../h2d/Sprite.html#visible"><span class="identifier">visible</span></a>:<span class="type">Bool</span></code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="x"></a><h3><p><code><a href="../h2d/Sprite.html#x"><span class="identifier">x</span></a>:<span class="type">Float</span></code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="y"></a><h3><p><code><a href="../h2d/Sprite.html#y"><span class="identifier">y</span></a>:<span class="type">Float</span></code></p></h3><div class="doc"><p></p></div></div></div></div><h3 class="section">Inherited Methods</h3><div class="fields"><h4><a href="#" class="expand-button"><i class="fa fa-arrow-circle-o-right"></i></a> Defined by <a class="type" title="" href="../h2d/Layers.html">Layers</a></h4><div style="display:none"><div class="field "><a name="add"></a><h3><p><code><span class="label">inline</span> <a href="#add"><span class="identifier">add</span></a> (<span style="white-space:nowrap">s:<a class="type" title="" href="../h2d/Sprite.html">Sprite</a>,</span> <span style="white-space:nowrap">layer:<span class="type">Int</span></span>):<span class="type">Void</span></code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="getLayer"></a><h3><p><code><a href="#getLayer"><span class="identifier">getLayer</span></a> (<span style="white-space:nowrap">layer:<span class="type">Int</span></span>):<span class="type">Iterator</span>&lt;<a class="type" title="" href="../h2d/Sprite.html">Sprite</a>&gt;</code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="over"></a><h3><p><code><a href="#over"><span class="identifier">over</span></a> (<span style="white-space:nowrap">s:<a class="type" title="" href="../h2d/Sprite.html">Sprite</a></span>):<span class="type">Void</span></code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="under"></a><h3><p><code><a href="#under"><span class="identifier">under</span></a> (<span style="white-space:nowrap">s:<a class="type" title="" href="../h2d/Sprite.html">Sprite</a></span>):<span class="type">Void</span></code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="ysort"></a><h3><p><code><a href="#ysort"><span class="identifier">ysort</span></a> (<span style="white-space:nowrap">layer:<span class="type">Int</span></span>):<span class="type">Void</span></code></p></h3><div class="doc"><p></p></div></div></div><h4><a href="#" class="expand-button"><i class="fa fa-arrow-circle-o-right"></i></a> Defined by <a class="type" title="" href="../h2d/Sprite.html">Sprite</a></h4><div style="display:none"><div class="field "><a name="drawTo"></a><h3><p><code><a href="#drawTo"><span class="identifier">drawTo</span></a> (<span style="white-space:nowrap">t:<a class="type" title="" href="../h3d/mat/Texture.html">Texture</a></span>):<span class="type">Void</span></code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="find"></a><h3><p><code><a href="#find"><span class="identifier">find</span></a>&lt;<span class="type">T</span>&gt; (<span style="white-space:nowrap">f:<a class="type" title="" href="../h2d/Sprite.html">Sprite</a>&nbsp;&#8209;&gt;&nbsp;<span class="type">Null</span>&lt;<span class="type">T</span>&gt;</span>):<span class="type">Null</span>&lt;<span class="type">T</span>&gt;</code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="findAll"></a><h3><p><code><a href="#findAll"><span class="identifier">findAll</span></a>&lt;<span class="type">T</span>&gt; (<span style="white-space:nowrap">f:<a class="type" title="" href="../h2d/Sprite.html">Sprite</a>&nbsp;&#8209;&gt;&nbsp;<span class="type">Null</span>&lt;<span class="type">T</span>&gt;,</span> <span style="white-space:nowrap">?arr:<span class="type">Array</span>&lt;<span class="type">T</span>&gt;</span>):<span class="type">Array</span>&lt;<span class="type">T</span>&gt;</code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="getBounds"></a><h3><p><code><a href="#getBounds"><span class="identifier">getBounds</span></a> (<span style="white-space:nowrap">?relativeTo:<a class="type" title="" href="../h2d/Sprite.html">Sprite</a>,</span> <span style="white-space:nowrap">?out:<a class="type" title="" href="../h2d/col/Bounds.html">Bounds</a></span>):<a class="type" title="" href="../h2d/col/Bounds.html">Bounds</a></code></p></h3><div class="doc"><p>Returns the bounds of the sprite for its whole content, recursively.
If relativeTo is null, it will return the bounds in the absolute coordinates.
If not, it will return the bounds relative to the specified sprite coordinates.
You can pass an already allocated bounds or getBounds will allocate one for you and return it.</p></div></div><div class="field "><a name="getChildAt"></a><h3><p><code><span class="label">inline</span> <a href="#getChildAt"><span class="identifier">getChildAt</span></a> (<span style="white-space:nowrap">n:<span class="type">Int</span></span>):<a class="type" title="" href="../h2d/Sprite.html">Sprite</a></code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="getChildIndex"></a><h3><p><code><a href="#getChildIndex"><span class="identifier">getChildIndex</span></a> (<span style="white-space:nowrap">s:<a class="type" title="" href="../h2d/Sprite.html">Sprite</a></span>):<span class="type">Int</span></code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="getSize"></a><h3><p><code><a href="#getSize"><span class="identifier">getSize</span></a> (<span style="white-space:nowrap">?out:<a class="type" title="" href="../h2d/col/Bounds.html">Bounds</a></span>):<a class="type" title="" href="../h2d/col/Bounds.html">Bounds</a></code></p></h3><div class="doc"><p>This is similar to getBounds(parent), but instead of the full content, it will return
the size based on the alignement of the Sprite. For instance for a text, getBounds will return
the full glyphs size whereas getSize() will ignore the pixels under the baseline.</p></div></div><div class="field "><a name="getSpritesCount"></a><h3><p><code><a href="#getSpritesCount"><span class="identifier">getSpritesCount</span></a> ():<span class="type">Int</span></code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="globalToLocal"></a><h3><p><code><a href="#globalToLocal"><span class="identifier">globalToLocal</span></a> (<span style="white-space:nowrap">pt:<a class="type" title="" href="../h2d/col/Point.html">Point</a></span>):<a class="type" title="" href="../h2d/col/Point.html">Point</a></code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="iterator"></a><h3><p><code><span class="label">inline</span> <a href="#iterator"><span class="identifier">iterator</span></a> ():<span class="type">ArrayIterator_h2d_Sprite</span></code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="localToGlobal"></a><h3><p><code><a href="#localToGlobal"><span class="identifier">localToGlobal</span></a> (<span style="white-space:nowrap">?pt:<a class="type" title="" href="../h2d/col/Point.html">Point</a></span>):<span class="type">Null</span>&lt;<a class="type" title="" href="../h2d/col/Point.html">Point</a>&gt;</code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="move"></a><h3><p><code><a href="#move"><span class="identifier">move</span></a> (<span style="white-space:nowrap">dx:<span class="type">Float</span>,</span> <span style="white-space:nowrap">dy:<span class="type">Float</span></span>):<span class="type">Void</span></code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="remove"></a><h3><p><code><span class="label">inline</span> <a href="#remove"><span class="identifier">remove</span></a> ():<span class="type">Void</span></code></p></h3><div class="doc"><p>Same as parent.removeChild(this), but does nothing if parent is null.
In order to capture add/removal from scene, you can override onAdd/onRemove/onParentChanged</p></div></div><div class="field "><a name="removeChildren"></a><h3><p><code><a href="#removeChildren"><span class="identifier">removeChildren</span></a> ():<span class="type">Void</span></code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="rotate"></a><h3><p><code><span class="label">inline</span> <a href="#rotate"><span class="identifier">rotate</span></a> (<span style="white-space:nowrap">v:<span class="type">Float</span></span>):<span class="type">Void</span></code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="scale"></a><h3><p><code><span class="label">inline</span> <a href="#scale"><span class="identifier">scale</span></a> (<span style="white-space:nowrap">v:<span class="type">Float</span></span>):<span class="type">Void</span></code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="setPos"></a><h3><p><code><span class="label">inline</span> <a href="#setPos"><span class="identifier">setPos</span></a> (<span style="white-space:nowrap">x:<span class="type">Float</span>,</span> <span style="white-space:nowrap">y:<span class="type">Float</span></span>):<span class="type">Void</span></code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="setScale"></a><h3><p><code><span class="label">inline</span> <a href="#setScale"><span class="identifier">setScale</span></a> (<span style="white-space:nowrap">v:<span class="type">Float</span></span>):<span class="type">Void</span></code></p></h3><div class="doc"><p></p></div></div></div></div></div></div></div></div></div><footer><div class="container"><div class="lead"><p>Follow <a href="https://github.com/HeapsIO/">Heaps.io on Github</a>: <br/><a class="github-button" href="https://github.com/HeapsIO/heaps/issues" data-icon="octicon-issue-opened" data-style="mega" data-count-api="/repos/HeapsIO/heaps#open_issues_count" data-count-aria-label="# issues on GitHub" aria-label="Issue HeapsIO/heaps on GitHub">Issue</a> &nbsp; <a class="github-button" href="https://github.com/HeapsIO/heaps" data-icon="octicon-star" data-style="mega" data-count-href="/HeapsIO/heaps/stargazers" data-count-api="/repos/HeapsIO/heaps#stargazers_count" data-count-aria-label="# stargazers on GitHub" aria-label="Star HeapsIO/heaps on GitHub">Star</a></p></div></div></footer><script async="async" defer="defer" src="https://buttons.github.io/buttons.js"></script><script src="..//highlighter.js"></script><link href="../highlighter.css" rel="stylesheet"/></body></html>