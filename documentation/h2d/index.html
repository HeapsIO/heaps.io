<!DOCTYPE html>
<html lang="en" id="page"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width"/><title>H2d - H2d  - Heaps.io Game Engine</title><base href="./../.."/>
<link href="css/styles.css" rel="stylesheet" type="text/css"/><link rel="canonical" href="http://heaps.io/documentation/h2d/index.html"/>
<meta name="twitter:creator" content="@ncanasse"/>
<meta property="og:title" content="H2d - H2d  - Heaps.io Game Engine"/><meta property="og:type" content="website"/><meta property="og:url" content="http://heaps.io/documentation/h2d/index.html"/><meta property="og:image" content="http://heaps.io//img/share.png"/>    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en"/></head><body><main><header class="header-documentation"><nav class="top-nav"><a href="./" class="button ">Home</a><a href="about.html" class="button ">About</a><a href="samples/" class="button ">Samples</a><a href="documentation/" class="button disabled">Online handbook</a><a href="api/" class="button">API</a><a href="https://github.com/HeapsIO/heaps/" class="button"><svg aria-hidden="true" width="20" height="20" version="1.1" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg> Source</a></nav></header> <div class="row container"><nav class="col-4 sidebar"><ul class="unstyled"><li><a href="documentation/getting-started/">Getting started</a></li><li class="active"><a href="documentation/h2d/" class="current">H2d</a><ul><li><a href="documentation/h2d/displaying-text.html">Displaying text</a></li><li><a href="documentation/h2d/filters.html">Filters</a></li><li><a href="documentation/h2d/h2d-animation.html">Animation</a></li><li><a href="documentation/h2d/h2d-drawable.html">Drawable</a></li><li><a href="documentation/h2d/h2d-events-and-interactivity.html">Events and interaction</a></li><li><a href="documentation/h2d/h2d-layers.html">Layers</a></li><li><a href="documentation/h2d/optimizing-bitmap-usage.html">Optimizing bitmaps</a></li><li><a href="documentation/h2d/sprite-properties.html">Sprites</a></li></ul></li><li><a href="documentation/h3d/">H3d</a></li><li><a href="documentation/hxd/">Hxd</a></li><li><a href="documentation/other/">Other</a></li><li><a href="documentation/shaders/">Shaders</a></li><li><a href="documentation/tools/">Tools</a></li></ul></nav><article class="col-8 documentation"><div class="content"><h1> H2d </h1><p class="lead">Heap's 2D API (H2D) defines a collection of classes for 2D graphics. The following sections covers its usage.</p>
<p>Before discussing H2D in-depth, let's introduce a few concepts that we will use throughout the documentation:</p>
<h2>In-Memory Bitmap</h2>
<p><em>A Bitmap (represented by <a href="https://github.com/ncannasse/heaps/blob/master/hxd/BitmapData.hx">h2d.BitmapData</a>) is a picture stored in local memory which you can modify and access its individual pixels. In Heaps, before being displayed, a Bitmap needs to be turned into a Texture</em>  </p>
<h2>Texture</h2>
<p><em>A Texture (represented by <a href="https://github.com/ncannasse/heaps/blob/master/h3d/mat/Texture.hx">h3d.mat.Texture</a>) whose per-pixel data is located in GPU memory. You can no longer access its pixels or modify it in an efficient way. But it can be used to display 3D models or 2D pictures.</em></p>
<h2>Tile</h2>
<p><em>A Tile (represented by <a href="https://github.com/ncannasse/heaps/blob/master/h2d/Tile.hx">h2d.Tile</a>) is a sub part of a Texture. For instance a 256x256 Texture might contain several graphics, such as different the frames of an animated sprite. A Tile will be a part of this texture, it has a (x,y) position and a (width,height) size in pixels. It can also have a pivot position (dx,dy).</em></p>
<h2>Tile Pivot</h2>
<p><em>By default a Tile pivot is to the upper left corner of the part of the texture it represents. The pivot can be moved by modifying the (dx,dy) values of the Tile. For instance by setting the pivot to (-tile.width,-tile.height), it will now be at the bottom right of the Tile. Changing the pivot affects the way Bitmap Sprites are displayed and the way local transformations (such as rotations) are performed.</em></p>
<h2>Sprite</h2>
<p><em>A Sprite (represented by <a href="https://github.com/ncannasse/heaps/blob/master/h2d/Sprite.hx">h2d.Sprite</a>) is the base class of all of H2D displayable objects. A Sprite has a position (x,y), a scale (scaleX,scaleY), a rotation. It can contain other Sprites which will inherit its transformations, creating a scene tree</em></p>
<h2>Scene</h2>
<p><em>The Scene (represented by <a href="https://github.com/ncannasse/heaps/blob/master/h2d/Scene.hx">h2d.Scene</a>) is a special Sprite which is at the root of the scene tree. In hxd.App is it accessible with the s2d variable. You will need to add your Sprites to the scene before they can be displayed. The Scene also handles events such as clicks, touch, and keyboard keys.</em></p>
<h2>Bitmap Sprite</h2>
<p><em>A Bitmap sprite (represented by <a href="https://github.com/ncannasse/heaps/blob/master/h2d/Bitmap.hx">h2d.Bitmap</a>) is a Sprite that allows you to display an unique Tile at the sprite position, such as in the previous example.</em></p>
<p>Now that the basic concepts have been introduced, let's get back to our previous example, this time with comments:</p>
<pre><code class="prettyprint haxe">    class Main extends hxd.App {
        var bmp : h2d.Bitmap;
        override function init() {
            // allocate a Texture with red color and creates a 100x100 Tile from it
            var tile = h2d.Tile.fromColor(0xFF0000, 100, 100);
            // create a Bitmap sprite, which will display the tile
            // and will be added to our 2D scene (s2d)
            bmp = new h2d.Bitmap(tile, s2d);
            // modify the display position of the Bitmap sprite
            bmp.x = s2d.width * 0.5;
            bmp.y = s2d.height * 0.5;
        }
        // on each frame
        override function update(dt:Float) {
            // increment the display bitmap rotation by 0.1 radians
            bmp.rotation += 0.1;
        }
        static function main() {
            new Main();
        }
    }</code></pre>
<p>We can easily make the Bitmap rotate around its center by changing the tile pivot, by adding the following lines:</p>
<pre><code class="prettyprint haxe">    bmp.tile.dx = -50;
    bmp.tile.dy = -50;</code></pre><ul class="page-list unstyled"><li class="page-list-item" itemscope="itemscope" itemtype="https://schema.org/Thing"><h3><a href="documentation/h2d/displaying-text.html" class="list-group-item" itemprop="url"><span itemprop="name">Displaying text</span></a></h3><p><em>Displaying text starts here.</em></p></li><li class="page-list-item" itemscope="itemscope" itemtype="https://schema.org/Thing"><h3><a href="documentation/h2d/filters.html" class="list-group-item" itemprop="url"><span itemprop="name">Filters</span></a></h3><p><em>Using filters starts here.</em></p></li><li class="page-list-item" itemscope="itemscope" itemtype="https://schema.org/Thing"><h3><a href="documentation/h2d/h2d-animation.html" class="list-group-item" itemprop="url"><span itemprop="name">Animation</span></a></h3><p><em>Creating an animated sprite in H2D is relative easy.</em></p></li><li class="page-list-item" itemscope="itemscope" itemtype="https://schema.org/Thing"><h3><a href="documentation/h2d/h2d-drawable.html" class="list-group-item" itemprop="url"><span itemprop="name">Drawable</span></a></h3><p><em>H2D classes that can display something on screen usually extend the h2d.Drawable class.</em></p></li><li class="page-list-item" itemscope="itemscope" itemtype="https://schema.org/Thing"><h3><a href="documentation/h2d/h2d-events-and-interactivity.html" class="list-group-item" itemprop="url"><span itemprop="name">Events and interaction</span></a></h3><p><em>Using events and interaction starts here.</em></p></li><li class="page-list-item" itemscope="itemscope" itemtype="https://schema.org/Thing"><h3><a href="documentation/h2d/h2d-layers.html" class="list-group-item" itemprop="url"><span itemprop="name">Layers</span></a></h3><p><em>Using layers starts here.</em></p></li><li class="page-list-item" itemscope="itemscope" itemtype="https://schema.org/Thing"><h3><a href="documentation/h2d/optimizing-bitmap-usage.html" class="list-group-item" itemprop="url"><span itemprop="name">Optimizing bitmaps</span></a></h3><p><em>Optimizing bitmaps starts here.</em></p></li><li class="page-list-item" itemscope="itemscope" itemtype="https://schema.org/Thing"><h3><a href="documentation/h2d/sprite-properties.html" class="list-group-item" itemprop="url"><span itemprop="name">Sprites</span></a></h3><p><em>The following properties and methods can be accessed on any Sprite:</em></p></li></ul></div></article> </div></main><footer><div class="container"><div class="lead"><p>Follow <a href="https://github.com/HeapsIO/">Heaps.io on Github</a>: <br/><a class="github-button" href="https://github.com/HeapsIO/heaps/issues" data-icon="octicon-issue-opened" data-style="mega" data-count-api="/repos/HeapsIO/heaps#open_issues_count" data-count-aria-label="# issues on GitHub" aria-label="Issue HeapsIO/heaps on GitHub">Issue</a> &nbsp; <a class="github-button" href="https://github.com/HeapsIO/heaps" data-icon="octicon-star" data-style="mega" data-count-href="/HeapsIO/heaps/stargazers" data-count-api="/repos/HeapsIO/heaps#stargazers_count" data-count-aria-label="# stargazers on GitHub" aria-label="Star HeapsIO/heaps on GitHub">Star</a></p></div></div></footer><script async="async" defer="defer" src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" type="text/css" href="http://code.haxe.org/css/highlighter.min.css"/><script defer="defer" src="http://code.haxe.org/js/highlighter.js"></script></body></html>